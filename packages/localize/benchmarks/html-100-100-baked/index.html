<!DOCTYPE html>

<script type="module">
  import {render, html} from 'lit-html';
  import {msg, configureLocalization} from '@lit/localize';

  (async () => {
    const {setLocale} = configureLocalization({
      sourceLocale: 'en',
      targetLocales: ['en', 'en2'],
      loadLocale: (locale) => import(`./${locale}.js`),
    });
    await setLocale('en2');

    for (let i = 0; i < 100; i++) {
      const div = document.createElement('div');
      div.id = `d${i}`;
      document.body.append(div);
    }

    performance.mark('render-start');

    for (let i = 0; i < 100; i++) {
      render(
        msg(html`Hello <b>0</b>!`, {id: '0hb5f26cfcd46f6e0b'}),
        document.getElementById('d0')
      );
      render(
        msg(html`Hello <b>1</b>!`, {id: '0hef7a16dff8d92b02'}),
        document.getElementById('d1')
      );
      render(
        msg(html`Hello <b>2</b>!`, {id: '0h4e5a6014f32838f5'}),
        document.getElementById('d2')
      );
      render(
        msg(html`Hello <b>3</b>!`, {id: '0h9306492af2c6ce9c'}),
        document.getElementById('d3')
      );
      render(
        msg(html`Hello <b>4</b>!`, {id: '0hcbed6423d1cb3f27'}),
        document.getElementById('d4')
      );
      render(
        msg(html`Hello <b>5</b>!`, {id: '0h5ce663459de9c0de'}),
        document.getElementById('d5')
      );
      render(
        msg(html`Hello <b>6</b>!`, {id: '0h66ff1310d5a554d1'}),
        document.getElementById('d6')
      );
      render(
        msg(html`Hello <b>7</b>!`, {id: '0habaafc26d543ea78'}),
        document.getElementById('d7')
      );
      render(
        msg(html`Hello <b>8</b>!`, {id: '0he57eac6343fc3783'}),
        document.getElementById('d8')
      );
      render(
        msg(html`Hello <b>9</b>!`, {id: '0h758ad64180666ffa'}),
        document.getElementById('d9')
      );
      render(
        msg(html`Hello <b>10</b>!`, {id: '0h5c46a5300d83ad2e'}),
        document.getElementById('d10')
      );
      render(
        msg(html`Hello <b>11</b>!`, {id: '0hcda3f934e63abb77'}),
        document.getElementById('d11')
      );
      render(
        msg(html`Hello <b>12</b>!`, {id: '0h820b9561cc032c48'}),
        document.getElementById('d12')
      );
      render(
        msg(html`Hello <b>13</b>!`, {id: '0h8f6917120cae1021'}),
        document.getElementById('d13')
      );
      render(
        msg(html`Hello <b>14</b>!`, {id: '0h9cd12e04282a0a92'}),
        document.getElementById('d14')
      );
      render(
        msg(html`Hello <b>15</b>!`, {id: '0hb4ff463903bd9f9b'}),
        document.getElementById('d15')
      );
      render(
        msg(html`Hello <b>16</b>!`, {id: '0h6c111e3acea834ac'}),
        document.getElementById('d16')
      );
      render(
        msg(html`Hello <b>17</b>!`, {id: '0hfa525fe761541845'}),
        document.getElementById('d17')
      );
      render(
        msg(html`Hello <b>18</b>!`, {id: '0hb7f8e4905b11b426'}),
        document.getElementById('d18')
      );
      render(
        msg(html`Hello <b>19</b>!`, {id: '0h7d12635b758363af'}),
        document.getElementById('d19')
      );
      render(
        msg(html`Hello <b>20</b>!`, {id: '0hff51a2fdf4211c4b'}),
        document.getElementById('d20')
      );
      render(
        msg(html`Hello <b>21</b>!`, {id: '0h8f5e4cdc308c2e42'}),
        document.getElementById('d21')
      );
      render(
        msg(html`Hello <b>22</b>!`, {id: '0h97b9961612d9e735'}),
        document.getElementById('d22')
      );
      render(
        msg(html`Hello <b>23</b>!`, {id: '0h32ea7f272a79d1dc'}),
        document.getElementById('d23')
      );
      render(
        msg(html`Hello <b>24</b>!`, {id: '0h154c9a24f17ced67'}),
        document.getElementById('d24')
      );
      render(
        msg(html`Hello <b>25</b>!`, {id: '0ha6459946bd9b6f1e'}),
        document.getElementById('d25')
      );
      render(
        msg(html`Hello <b>26</b>!`, {id: '0hb05e4911f5570311'}),
        document.getElementById('d26')
      );
      render(
        msg(html`Hello <b>27</b>!`, {id: '0h4b8f32230cf6edb8'}),
        document.getElementById('d27')
      );
      render(
        msg(html`Hello <b>28</b>!`, {id: '0h8562e25f7baf3ac3'}),
        document.getElementById('d28')
      );
      render(
        msg(html`Hello <b>29</b>!`, {id: '0hbeea0c42a0181e3a'}),
        document.getElementById('d29')
      );
      render(
        msg(html`Hello <b>30</b>!`, {id: '0hda45448839f86c4c'}),
        document.getElementById('d30')
      );
      render(
        msg(html`Hello <b>31</b>!`, {id: '0hbff81b7374598165'}),
        document.getElementById('d31')
      );
      render(
        msg(html`Hello <b>32</b>!`, {id: '0h0da4e995249fb332'}),
        document.getElementById('d32')
      );
      render(
        msg(html`Hello <b>33</b>!`, {id: '0h2790685b55a1233b'}),
        document.getElementById('d33')
      );
      render(
        msg(html`Hello <b>34</b>!`, {id: '0hf2ea37841c75f4e8'}),
        document.getElementById('d34')
      );
      render(
        msg(html`Hello <b>35</b>!`, {id: '0h596c4e7306479ec1'}),
        document.getElementById('d35')
      );
      render(
        msg(html`Hello <b>36</b>!`, {id: '0h2649dc91071d3bce'}),
        document.getElementById('d36')
      );
      render(
        msg(html`Hello <b>37</b>!`, {id: '0h3e77b4c5e2b06417'}),
        document.getElementById('d37')
      );
      render(
        msg(html`Hello <b>38</b>!`, {id: '0h8984eda401d124e4'}),
        document.getElementById('d38')
      );
      render(
        msg(html`Hello <b>39</b>!`, {id: '0h6f67059a03a3031d'}),
        document.getElementById('d39')
      );
      render(
        msg(html`Hello <b>40</b>!`, {id: '0h469be4f893c2f4a1'}),
        document.getElementById('d40')
      );
      render(
        msg(html`Hello <b>41</b>!`, {id: '0h393e6348531810c8'}),
        document.getElementById('d41')
      );
      render(
        msg(html`Hello <b>42</b>!`, {id: '0h84d6c71b6d4f9ff7'}),
        document.getElementById('d42')
      );
      render(
        msg(html`Hello <b>43</b>!`, {id: '0h13797316949891ae'}),
        document.getElementById('d43')
      );
      render(
        msg(html`Hello <b>44</b>!`, {id: '0hb1852dcde868fcc5'}),
        document.getElementById('d44')
      );
      render(
        msg(html`Hello <b>45</b>!`, {id: '0h2343ec2155bd192c'}),
        document.getElementById('d45')
      );
      render(
        msg(html`Hello <b>46</b>!`, {id: '0h6c32141f8ad2841b'}),
        document.getElementById('d46')
      );
      render(
        msg(html`Hello <b>47</b>!`, {id: '0h5403fbeaaf3eef12'}),
        document.getElementById('d47')
      );
      render(
        msg(html`Hello <b>48</b>!`, {id: '0hccace45a1b50a659'}),
        document.getElementById('d48')
      );
      render(
        msg(html`Hello <b>49</b>!`, {id: '0hbe1f8c62e0f18b60'}),
        document.getElementById('d49')
      );
      render(
        msg(html`Hello <b>50</b>!`, {id: '0h46911ac2b7a112c2'}),
        document.getElementById('d50')
      );
      render(
        msg(html`Hello <b>51</b>!`, {id: '0hb68470e47b3600cb'}),
        document.getElementById('d51')
      );
      render(
        msg(html`Hello <b>52</b>!`, {id: '0hea1d4d0db18eb65c'}),
        document.getElementById('d52')
      );
      render(
        msg(html`Hello <b>53</b>!`, {id: '0h4eec63fc99eecbb5'}),
        document.getElementById('d53')
      );
      render(
        msg(html`Hello <b>54</b>!`, {id: '0h5d78672d44b0539e'}),
        document.getElementById('d54')
      );
      render(
        msg(html`Hello <b>55</b>!`, {id: '0hcc7f680b7891d1e7'}),
        document.getElementById('d55')
      );
      render(
        msg(html`Hello <b>56</b>!`, {id: '0h02c20009940bd238'}),
        document.getElementById('d56')
      );
      render(
        msg(html`Hello <b>57</b>!`, {id: '0h679116f87c6be791'}),
        document.getElementById('d57')
      );
      render(
        msg(html`Hello <b>58</b>!`, {id: '0h761cda29272d02ba'}),
        document.getElementById('d58')
      );
      render(
        msg(html`Hello <b>59</b>!`, {id: '0h3c95b04602c41f43'}),
        document.getElementById('d59')
      );
      render(
        msg(html`Hello <b>60</b>!`, {id: '0h83f9954dd3044a9f'}),
        document.getElementById('d60')
      );
      render(
        msg(html`Hello <b>61</b>!`, {id: '0hbd80bf30f76d2e16'}),
        document.getElementById('d61')
      );
      render(
        msg(html`Hello <b>62</b>!`, {id: '0hc7996efc2f28c209'}),
        document.getElementById('d62')
      );
      render(
        msg(html`Hello <b>63</b>!`, {id: '0h8d58591948392090'}),
        document.getElementById('d63')
      );
      render(
        msg(html`Hello <b>64</b>!`, {id: '0h985d9e280fa89103'}),
        document.getElementById('d64')
      );
      render(
        msg(html`Hello <b>65</b>!`, {id: '0h2869c8064c12c97a'}),
        document.getElementById('d65')
      );
      render(
        msg(html`Hello <b>66</b>!`, {id: '0hd9537c0186ab50ed'}),
        document.getElementById('d66')
      );
      render(
        msg(html`Hello <b>67</b>!`, {id: '0h775da1f24addbc34'}),
        document.getElementById('d67')
      );
      render(
        msg(html`Hello <b>68</b>!`, {id: '0h7ecc55e89d7798a7'}),
        document.getElementById('d68')
      );
      render(
        msg(html`Hello <b>69</b>!`, {id: '0h0fc5550a69961a5e'}),
        document.getElementById('d69')
      );
      render(
        msg(html`Hello <b>70</b>!`, {id: '0he23731a5e5fd1dc0'}),
        document.getElementById('d70')
      );
      render(
        msg(html`Hello <b>71</b>!`, {id: '0h9b06745e7a197539'}),
        document.getElementById('d71')
      );
      render(
        msg(html`Hello <b>72</b>!`, {id: '0h3d85427b40ef6786'}),
        document.getElementById('d72')
      );
      render(
        msg(html`Hello <b>73</b>!`, {id: '0h55b35ab01c82fc8f'}),
        document.getElementById('d73')
      );
      render(
        msg(html`Hello <b>74</b>!`, {id: '0hf304a967adcbd024'}),
        document.getElementById('d74')
      );
      render(
        msg(html`Hello <b>75</b>!`, {id: '0h8261c162979c595d'}),
        document.getElementById('d75')
      );
      render(
        msg(html`Hello <b>76</b>!`, {id: '0h24e08f7f5e724baa'}),
        document.getElementById('d76')
      );
      render(
        msg(html`Hello <b>77</b>!`, {id: '0h3fb863891f272b73'}),
        document.getElementById('d77')
      );
      render(
        msg(html`Hello <b>78</b>!`, {id: '0h05e4f34cb06f4b28'}),
        document.getElementById('d78')
      );
      render(
        msg(html`Hello <b>79</b>!`, {id: '0hc2ec0a36b2424a01'}),
        document.getElementById('d79')
      );
      render(
        msg(html`Hello <b>80</b>!`, {id: '0h061f31e32103b035'}),
        document.getElementById('d80')
      );
      render(
        msg(html`Hello <b>81</b>!`, {id: '0ha1501af438a39adc'}),
        document.getElementById('d81')
      );
      render(
        msg(html`Hello <b>82</b>!`, {id: '0h6db73ecb024ae54b'}),
        document.getElementById('d82')
      );
      render(
        msg(html`Hello <b>83</b>!`, {id: '0hfdc3e8a93eb5f742'}),
        document.getElementById('d83')
      );
      render(
        msg(html`Hello <b>84</b>!`, {id: '0h1ec3e4df0380cc11'}),
        document.getElementById('d84')
      );
      render(
        msg(html`Hello <b>85</b>!`, {id: '0hb9f4cdf01b20b6b8'}),
        document.getElementById('d85')
      );
      render(
        msg(html`Hello <b>86</b>!`, {id: '0h83b235f1ffa6b667'}),
        document.getElementById('d86')
      );
      render(
        msg(html`Hello <b>87</b>!`, {id: '0h14ab3513cbc5381e'}),
        document.getElementById('d87')
      );
      render(
        msg(html`Hello <b>88</b>!`, {id: '0h34be5c0600dbc3ad'}),
        document.getElementById('d88')
      );
      render(
        msg(html`Hello <b>89</b>!`, {id: '0h7c4381fbad0cd9f4'}),
        document.getElementById('d89')
      );
      render(
        msg(html`Hello <b>90</b>!`, {id: '0h74b38d177e821296'}),
        document.getElementById('d90')
      );
      render(
        msg(html`Hello <b>91</b>!`, {id: '0h3b2c63345a192f1f'}),
        document.getElementById('d91')
      );
      render(
        msg(html`Hello <b>92</b>!`, {id: '0h448b26ffcf4e0510'}),
        document.getElementById('d92')
      );
      render(
        msg(html`Hello <b>93</b>!`, {id: '0h7ecc3ce2b63da689'}),
        document.getElementById('d93')
      );
      render(
        msg(html`Hello <b>94</b>!`, {id: '0hdf9c95ecd327adfa'}),
        document.getElementById('d94')
      );
      render(
        msg(html`Hello <b>95</b>!`, {id: '0h4f906c0e96bd7583'}),
        document.getElementById('d95')
      );
      render(
        msg(html`Hello <b>96</b>!`, {id: '0h2e906fd8d1f2a0b4'}),
        document.getElementById('d96')
      );
      render(
        msg(html`Hello <b>97</b>!`, {id: '0h908649e80dc0356d'}),
        document.getElementById('d97')
      );
      render(
        msg(html`Hello <b>98</b>!`, {id: '0hc6f822f0f0aafede'}),
        document.getElementById('d98')
      );
      render(
        msg(html`Hello <b>99</b>!`, {id: '0h35ff23cf248c7d27'}),
        document.getElementById('d99')
      );
      if (i === 0) {
        performance.measure('first-render', 'render-start');
      }
    }

    performance.measure('all-renders', 'render-start');
  })();
</script>
